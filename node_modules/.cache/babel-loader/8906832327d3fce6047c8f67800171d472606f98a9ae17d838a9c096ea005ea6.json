{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{motion}from'framer-motion';import{useLocation,useNavigate}from'react-router-dom';import{supabase}from'../supabaseClient';import Layout from'../components/Layout';import Logo from'../components/Logo';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VerifyCode=()=>{var _location$state;const navigate=useNavigate();const location=useLocation();const phoneFromState=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.phone)||localStorage.getItem('pendingPhone');const[phone]=useState(phoneFromState);const[codeInput,setCodeInput]=useState('');const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[email,setEmail]=useState('');const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');const[loading,setLoading]=useState(false);const[secondsLeft,setSecondsLeft]=useState(300);const timerRef=useRef(null);const[codeVerified,setCodeVerified]=useState(false);// Si no hay número guardado → redirigir a /register\nuseEffect(()=>{if(!phone){navigate('/register');return;}localStorage.setItem('pendingPhone',phone);},[phone,navigate]);// Temporizador\nuseEffect(()=>{if(secondsLeft>0){timerRef.current=setTimeout(()=>setSecondsLeft(secondsLeft-1),1000);}return()=>clearTimeout(timerRef.current);},[secondsLeft]);const detectCountryFromPhone=phone=>{if(phone.startsWith('+57'))return'Colombia';if(phone.startsWith('+58'))return'Venezuela';if(phone.startsWith('+1'))return'Estados Unidos';if(phone.startsWith('+507'))return'Panamá';return'Desconocido';};const handleVerifyCode=async()=>{if(!codeInput.trim()){setMessage('Ingresa el código recibido.');setMessageType('error');return;}setLoading(true);try{const{data:pending,error}=await supabase.from('pending_codes').select('*').eq('phone',phone).maybeSingle();// evita romper si no hay registros\nif(error)throw error;if(!pending){setMessage('No se encontró un código para este número.');setMessageType('error');return;}const now=new Date();const expiresAt=pending.expires_at?new Date(pending.expires_at):null;if(!expiresAt||expiresAt<now){setMessage('El código ha expirado. Reenvía uno nuevo.');setMessageType('error');return;}if(pending.code!==codeInput){setMessage('Código incorrecto.');setMessageType('error');return;}setMessage('');setMessageType('');setCodeVerified(true);clearTimeout(timerRef.current);}catch(error){console.error('Error al verificar código:',error);setMessage('Error al verificar código. Intenta de nuevo.');setMessageType('error');}finally{setLoading(false);}};const handleResendCode=async()=>{setLoading(true);try{const newCode=Math.floor(1000+Math.random()*9000).toString();const expires=new Date(Date.now()+5*60*1000);const{error}=await supabase.from('pending_codes').upsert([{phone,code:newCode,expires_at:expires}]);if(error)throw error;setSecondsLeft(300);setMessage('Se ha reenviado un nuevo código.');setMessageType('success');}catch(error){console.error('Error al reenviar código:',error);setMessage('No se pudo reenviar el código. Intenta nuevamente.');setMessageType('error');}finally{setLoading(false);}};const handleCompleteRegistration=async()=>{if(!firstName.trim()||!lastName.trim()){setMessage('Nombre y apellido son obligatorios.');setMessageType('error');return;}setLoading(true);try{const hashedPassword=localStorage.getItem('pendingPassword');if(!hashedPassword){setMessage('Error: No se encontró contraseña temporal.');setMessageType('error');return;}const country=detectCountryFromPhone(phone);const{error}=await supabase.from('users').insert([{phone,password:hashedPassword,first_name:firstName,last_name:lastName,email:email||null,country}]);if(error)throw error;await supabase.from('pending_codes').delete().eq('phone',phone);localStorage.removeItem('pendingPassword');localStorage.removeItem('pendingPhone');setMessage('Registro completado con éxito. Redirigiendo...');setMessageType('success');setTimeout(()=>navigate('/home'),2000);// ← aquí ya redirige al home\n}catch(error){console.error('Error al guardar usuario:',error);setMessage('Error al guardar usuario. Intenta de nuevo.');setMessageType('error');}finally{setLoading(false);}};const formatTime=seconds=>{const m=Math.floor(seconds/60);const s=seconds%60;return\"\".concat(m,\":\").concat(s.toString().padStart(2,'0'));};return/*#__PURE__*/_jsx(Layout,{showNavigation:false,children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen px-6 py-8\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"max-w-md mx-auto\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(Logo,{size:\"medium\",className:\"mb-8\"}),message&&/*#__PURE__*/_jsx(motion.div,{className:\"p-4 rounded-xl mb-4 \".concat(messageType==='success'?'bg-green-100 text-green-700':'bg-red-100 text-red-700'),initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:message}),!codeVerified?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"C\\xF3digo recibido\",value:codeInput,onChange:e=>setCodeInput(e.target.value),className:\"w-full mb-4 px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\",disabled:loading}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVerifyCode,className:\"w-full bg-blue-900 text-white py-3 rounded-xl font-semibold mb-2\",disabled:loading,children:loading?'Verificando...':'Verificar Código'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Tiempo restante: \",formatTime(secondsLeft)]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResendCode,disabled:secondsLeft>0||loading,className:\"text-blue-900 font-semibold \".concat(secondsLeft>0?'opacity-50 cursor-not-allowed':'hover:underline'),children:\"Reenviar C\\xF3digo\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/register'),className:\"w-full mt-4 py-3 rounded-xl border border-gray-300 hover:bg-gray-100\",disabled:loading,children:\"Volver a n\\xFAmero de tel\\xE9fono\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nombre\",value:firstName,onChange:e=>setFirstName(e.target.value),className:\"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\",disabled:loading}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Apellido\",value:lastName,onChange:e=>setLastName(e.target.value),className:\"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\",disabled:loading}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Correo (opcional)\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\",disabled:loading}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCompleteRegistration,className:\"w-full bg-green-600 text-white py-3 rounded-xl font-semibold\",disabled:loading,children:loading?'Guardando...':'Completar Registro'})]})]})})});};export default VerifyCode;","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","useLocation","useNavigate","supabase","Layout","Logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VerifyCode","_location$state","navigate","location","phoneFromState","state","phone","localStorage","getItem","codeInput","setCodeInput","firstName","setFirstName","lastName","setLastName","email","setEmail","message","setMessage","messageType","setMessageType","loading","setLoading","secondsLeft","setSecondsLeft","timerRef","codeVerified","setCodeVerified","setItem","current","setTimeout","clearTimeout","detectCountryFromPhone","startsWith","handleVerifyCode","trim","data","pending","error","from","select","eq","maybeSingle","now","Date","expiresAt","expires_at","code","console","handleResendCode","newCode","Math","floor","random","toString","expires","upsert","handleCompleteRegistration","hashedPassword","country","insert","password","first_name","last_name","delete","removeItem","formatTime","seconds","m","s","concat","padStart","showNavigation","children","className","div","initial","opacity","y","animate","size","type","placeholder","value","onChange","e","target","disabled","onClick"],"sources":["C:/Users/Usuario/Desktop/intento de app/src/pages/VerifyCode.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport Layout from '../components/Layout';\nimport Logo from '../components/Logo';\n\nconst VerifyCode = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const phoneFromState = location.state?.phone || localStorage.getItem('pendingPhone');\n  const [phone] = useState(phoneFromState);\n\n  const [codeInput, setCodeInput] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [secondsLeft, setSecondsLeft] = useState(300);\n  const timerRef = useRef(null);\n  const [codeVerified, setCodeVerified] = useState(false);\n\n  // Si no hay número guardado → redirigir a /register\n  useEffect(() => {\n    if (!phone) {\n      navigate('/register');\n      return;\n    }\n    localStorage.setItem('pendingPhone', phone);\n  }, [phone, navigate]);\n\n  // Temporizador\n  useEffect(() => {\n    if (secondsLeft > 0) {\n      timerRef.current = setTimeout(() => setSecondsLeft(secondsLeft - 1), 1000);\n    }\n    return () => clearTimeout(timerRef.current);\n  }, [secondsLeft]);\n\n  const detectCountryFromPhone = (phone) => {\n    if (phone.startsWith('+57')) return 'Colombia';\n    if (phone.startsWith('+58')) return 'Venezuela';\n    if (phone.startsWith('+1')) return 'Estados Unidos';\n    if (phone.startsWith('+507')) return 'Panamá';\n    return 'Desconocido';\n  };\n\n  const handleVerifyCode = async () => {\n    if (!codeInput.trim()) {\n      setMessage('Ingresa el código recibido.');\n      setMessageType('error');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { data: pending, error } = await supabase\n        .from('pending_codes')\n        .select('*')\n        .eq('phone', phone)\n        .maybeSingle(); // evita romper si no hay registros\n\n      if (error) throw error;\n\n      if (!pending) {\n        setMessage('No se encontró un código para este número.');\n        setMessageType('error');\n        return;\n      }\n\n      const now = new Date();\n      const expiresAt = pending.expires_at ? new Date(pending.expires_at) : null;\n\n      if (!expiresAt || expiresAt < now) {\n        setMessage('El código ha expirado. Reenvía uno nuevo.');\n        setMessageType('error');\n        return;\n      }\n\n      if (pending.code !== codeInput) {\n        setMessage('Código incorrecto.');\n        setMessageType('error');\n        return;\n      }\n\n      setMessage('');\n      setMessageType('');\n      setCodeVerified(true);\n      clearTimeout(timerRef.current);\n    } catch (error) {\n      console.error('Error al verificar código:', error);\n      setMessage('Error al verificar código. Intenta de nuevo.');\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResendCode = async () => {\n    setLoading(true);\n    try {\n      const newCode = Math.floor(1000 + Math.random() * 9000).toString();\n      const expires = new Date(Date.now() + 5 * 60 * 1000);\n\n      const { error } = await supabase\n        .from('pending_codes')\n        .upsert([{ phone, code: newCode, expires_at: expires }]);\n\n      if (error) throw error;\n\n      setSecondsLeft(300);\n      setMessage('Se ha reenviado un nuevo código.');\n      setMessageType('success');\n    } catch (error) {\n      console.error('Error al reenviar código:', error);\n      setMessage('No se pudo reenviar el código. Intenta nuevamente.');\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCompleteRegistration = async () => {\n    if (!firstName.trim() || !lastName.trim()) {\n      setMessage('Nombre y apellido son obligatorios.');\n      setMessageType('error');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const hashedPassword = localStorage.getItem('pendingPassword');\n      if (!hashedPassword) {\n        setMessage('Error: No se encontró contraseña temporal.');\n        setMessageType('error');\n        return;\n      }\n\n      const country = detectCountryFromPhone(phone);\n\n      const { error } = await supabase\n        .from('users')\n        .insert([{\n          phone,\n          password: hashedPassword,\n          first_name: firstName,\n          last_name: lastName,\n          email: email || null,\n          country\n        }]);\n\n      if (error) throw error;\n\n      await supabase.from('pending_codes').delete().eq('phone', phone);\n      localStorage.removeItem('pendingPassword');\n      localStorage.removeItem('pendingPhone');\n\n      setMessage('Registro completado con éxito. Redirigiendo...');\n      setMessageType('success');\n\n      setTimeout(() => navigate('/home'), 2000); // ← aquí ya redirige al home\n    } catch (error) {\n      console.error('Error al guardar usuario:', error);\n      setMessage('Error al guardar usuario. Intenta de nuevo.');\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const m = Math.floor(seconds / 60);\n    const s = seconds % 60;\n    return `${m}:${s.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <Layout showNavigation={false}>\n      <div className=\"min-h-screen px-6 py-8\">\n        <motion.div\n          className=\"max-w-md mx-auto\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n        >\n          <Logo size=\"medium\" className=\"mb-8\" />\n\n          {message && (\n            <motion.div\n              className={`p-4 rounded-xl mb-4 ${\n                messageType === 'success'\n                  ? 'bg-green-100 text-green-700'\n                  : 'bg-red-100 text-red-700'\n              }`}\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n            >\n              {message}\n            </motion.div>\n          )}\n\n          {!codeVerified ? (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Código recibido\"\n                value={codeInput}\n                onChange={(e) => setCodeInput(e.target.value)}\n                className=\"w-full mb-4 px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\"\n                disabled={loading}\n              />\n              <button\n                onClick={handleVerifyCode}\n                className=\"w-full bg-blue-900 text-white py-3 rounded-xl font-semibold mb-2\"\n                disabled={loading}\n              >\n                {loading ? 'Verificando...' : 'Verificar Código'}\n              </button>\n\n              <div className=\"flex justify-between items-center mt-2\">\n                <span>Tiempo restante: {formatTime(secondsLeft)}</span>\n                <button\n                  onClick={handleResendCode}\n                  disabled={secondsLeft > 0 || loading}\n                  className={`text-blue-900 font-semibold ${\n                    secondsLeft > 0 ? 'opacity-50 cursor-not-allowed' : 'hover:underline'\n                  }`}\n                >\n                  Reenviar Código\n                </button>\n              </div>\n\n              <button\n                onClick={() => navigate('/register')}\n                className=\"w-full mt-4 py-3 rounded-xl border border-gray-300 hover:bg-gray-100\"\n                disabled={loading}\n              >\n                Volver a número de teléfono\n              </button>\n            </>\n          ) : (\n            <div className=\"space-y-4 mt-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Nombre\"\n                value={firstName}\n                onChange={(e) => setFirstName(e.target.value)}\n                className=\"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\"\n                disabled={loading}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Apellido\"\n                value={lastName}\n                onChange={(e) => setLastName(e.target.value)}\n                className=\"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\"\n                disabled={loading}\n              />\n              <input\n                type=\"email\"\n                placeholder=\"Correo (opcional)\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2\"\n                disabled={loading}\n              />\n              <button\n                onClick={handleCompleteRegistration}\n                className=\"w-full bg-green-600 text-white py-3 rounded-xl font-semibold\"\n                disabled={loading}\n              >\n                {loading ? 'Guardando...' : 'Completar Registro'}\n              </button>\n            </div>\n          )}\n        </motion.div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default VerifyCode;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}