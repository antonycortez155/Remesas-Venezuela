{"ast":null,"code":"import _objectSpread from\"C:/Users/Usuario/Desktop/intento de app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import{useApp}from\"../../context/AppContext\";import{supabase}from\"../../supabaseClient\";import Layout from\"../../components/Layout\";import{motion}from\"framer-motion\";/* ====== Listas de bancos por país ====== */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BANKS_BY_COUNTRY={VE:[\"Banco de Venezuela\",\"Banesco\",\"Provincial\",\"Mercantil\",\"BOD\",\"Banco Nacional de Crédito (BNC)\",\"Bicentenario\",\"Banco del Tesoro\"],CO:[\"Bancolombia\",\"Davivienda\",\"BBVA\",\"Banco de Bogotá\",\"Banco de Occidente\",\"Banco Popular\"],PE:[\"BCP\",\"Interbank\",\"BBVA\",\"Scotiabank\"],US:[\"Wells Fargo\",\"Bank of America\",\"Chase\",\"Citibank\",\"PNC Bank\"],PA:[\"Banco General\",\"Banistmo\",\"Global Bank\",\"BAC Credomatic\"],EC:[\"Banco Pichincha\",\"Banco de Guayaquil\",\"Produbanco\",\"Banco Internacional\"]};/* ====== Métodos por país ====== */const METHODS_BY_COUNTRY=countryCode=>{const baseTransfer=[\"Transferencia bancaria\"];switch((countryCode||\"\").toUpperCase()){case\"VE\":return[\"Pago móvil\",...baseTransfer];case\"CO\":return[\"Bancolombia\",\"Nequi\",\"Daviplata\",...baseTransfer];case\"PE\":return[\"Yape\",\"Plin\",...baseTransfer];case\"US\":return[\"Zelle\",\"Western Union\",...baseTransfer];case\"PA\":return[\"Zelle\",\"Western Union\",...baseTransfer];case\"EC\":return[\"Banco Pichincha\",...baseTransfer];default:return[...baseTransfer];}};/* ====== Helpers ====== */const isBankTransfer=methodName=>{if(!methodName)return false;const name=methodName.toLowerCase();return name.includes(\"transferencia\")||name.includes(\"banco\")||name.includes(\"bancolombia\")||name.includes(\"bank\");};const PaymentDestinationScreen=()=>{const{user}=useApp();const navigate=useNavigate();const location=useLocation();const{transactionId}=location.state||{};const[transaction,setTransaction]=useState(null);const[methods,setMethods]=useState([]);const[selectedMethod,setSelectedMethod]=useState(null);const[Loading,setLoading]=useState(true);// Modal\nconst[showMethodModal,setShowMethodModal]=useState(false);const[selectedMethodType,setSelectedMethodType]=useState(\"\");// Datos del formulario\nconst[newMethodData,setNewMethodData]=useState({holder_name:\"\",account_number:\"\",bank:\"\",platform:\"\",account_type:\"\",document_type:\"\",document_number:\"\"});/* ==== Cargar transacción ==== */useEffect(()=>{const fetchTransaction=async()=>{if(!transactionId)return;const{data}=await supabase.from(\"transactions\").select(\"*\").eq(\"id\",transactionId).single();if(data)setTransaction(data);};fetchTransaction();},[transactionId]);/* ==== Cargar métodos según país destino ==== */useEffect(()=>{const fetchMethods=async()=>{if(!transaction||!user)return;const{data}=await supabase.from(\"user_payment_methods\").select(\"*\").eq(\"user_id\",user.id).eq(\"country_code\",transaction.destination_country);if(data)setMethods(data);setLoading(false);};fetchMethods();},[transaction,user]);/* ==== Abrir modal ==== */const openAddMethodModal=()=>{setSelectedMethodType(\"\");setNewMethodData({holder_name:\"\",account_number:\"\",bank:\"\",platform:\"\",account_type:\"\",document_type:\"\",document_number:\"\"});setShowMethodModal(true);};const cancelAddMethod=()=>{setShowMethodModal(false);setSelectedMethodType(\"\");};const chooseMethodType=method=>{setSelectedMethodType(method);if(!isBankTransfer(method)){setNewMethodData(p=>_objectSpread(_objectSpread({},p),{},{bank:method.includes(\"Banco\")||method===\"Bancolombia\"?method:p.bank}));}};/* ==== Guardar nuevo método ==== */const handleAddNewMethod=async()=>{if(!transaction||!user||!selectedMethodType)return;// Validar campos esenciales\nif(!newMethodData.holder_name){alert(\"Ingresa el titular.\");return;}if(isBankTransfer(selectedMethodType)&&!newMethodData.account_number){alert(\"Ingresa número de cuenta.\");return;}if(selectedMethodType===\"Pago móvil\"&&!newMethodData.account_number){alert(\"Ingresa número telefónico para pago móvil.\");return;}if(!newMethodData.document_type){alert(\"Selecciona tipo de documento.\");return;}if(!newMethodData.document_number){alert(\"Ingresa número de documento.\");return;}const insertData={user_id:user.id,country_code:transaction.destination_country,method:selectedMethodType,account_type:isBankTransfer(selectedMethodType)?newMethodData.account_type:null,data:{holder_name:newMethodData.holder_name,account_number:newMethodData.account_number||null,bank:newMethodData.bank||null,platform:newMethodData.platform||null,document_type:newMethodData.document_type,document_number:newMethodData.document_number}};const{data,error}=await supabase.from(\"user_payment_methods\").insert([insertData]).select().single();if(error){alert(\"Error guardando el método.\");return;}setMethods(prev=>[...prev,data]);setShowMethodModal(false);setSelectedMethodType(\"\");};/* ======= Continuar ======= */const handleContinue=async()=>{if(!selectedMethod||!transaction)return;await supabase.from(\"transactions\").update({payment_method_destination_id:selectedMethod.id}).eq(\"id\",transaction.id);navigate(\"/send/step4\",{state:{transactionId:transaction.id}});};if(Loading)return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-10\",children:\"Cargando m\\xE9todos...\"})});return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen p-5 bg-gradient-to-b from-blue-50 to-yellow-50\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl font-bold text-blue-900 mb-6 text-center\",children:[\"Selecciona m\\xE9todo de pago para \",transaction===null||transaction===void 0?void 0:transaction.destination_country]}),methods.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:methods.map(m=>{var _m$data,_m$data2,_m$data3,_m$data4,_m$data5,_m$data6;return/*#__PURE__*/_jsxs(motion.div,{onClick:()=>setSelectedMethod(m),className:\"p-4 mb-2 border rounded-xl cursor-pointer \".concat((selectedMethod===null||selectedMethod===void 0?void 0:selectedMethod.id)===m.id?\"border-blue-900 bg-blue-100\":\"border-gray-300 bg-white\"),children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:m.method})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Titular: \",(_m$data=m.data)===null||_m$data===void 0?void 0:_m$data.holder_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"N\\xFAmero / Cuenta: \",(_m$data2=m.data)===null||_m$data2===void 0?void 0:_m$data2.account_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Banco / Plataforma: \",((_m$data3=m.data)===null||_m$data3===void 0?void 0:_m$data3.bank)||((_m$data4=m.data)===null||_m$data4===void 0?void 0:_m$data4.platform)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Documento: \",(_m$data5=m.data)===null||_m$data5===void 0?void 0:_m$data5.document_type,\" \",(_m$data6=m.data)===null||_m$data6===void 0?void 0:_m$data6.document_number]})]},m.id);})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 mb-4\",children:\"No hay m\\xE9todos registrados.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full py-2 mb-4 bg-green-600 text-white rounded-xl\",onClick:openAddMethodModal,children:\"Agregar m\\xE9todo de pago\"}),showMethodModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-60 flex items-center justify-center bg-black/50 px-4 pt-6 pb-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-center\",children:\"Selecciona m\\xE9todo de pago\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto px-6 py-4 space-y-4 pb-32\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:METHODS_BY_COUNTRY(transaction===null||transaction===void 0?void 0:transaction.destination_country).map(method=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>chooseMethodType(method),className:\"p-3 rounded-xl border text-center \".concat(selectedMethodType===method?\"border-blue-900 bg-blue-50\":\"border-gray-300 bg-white\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 mx-auto mb-2 flex items-center justify-center rounded-full bg-gray-100 text-gray-700 font-semibold\",children:method.slice(0,2).toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:method})]},method))}),selectedMethodType&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-medium\",children:[\"Datos \\u2014 \",selectedMethodType]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Titular\",className:\"w-full p-2 border rounded\",value:newMethodData.holder_name,onChange:e=>setNewMethodData(_objectSpread(_objectSpread({},newMethodData),{},{holder_name:e.target.value}))}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-2 border rounded\",value:newMethodData.document_type,onChange:e=>setNewMethodData(_objectSpread(_objectSpread({},newMethodData),{},{document_type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tipo de documento\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CC\",children:\"C\\xE9dula\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CE\",children:\"C\\xE9dula extranjera\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PAS\",children:\"Pasaporte\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"N\\xFAmero de documento\",className:\"w-full p-2 border rounded\",value:newMethodData.document_number,onChange:e=>setNewMethodData(_objectSpread(_objectSpread({},newMethodData),{},{document_number:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:selectedMethodType===\"Pago móvil\"?\"Teléfono\":isBankTransfer(selectedMethodType)?\"Número de cuenta\":\"Identificador / correo\",className:\"w-full p-2 border rounded\",value:newMethodData.account_number,onChange:e=>setNewMethodData(_objectSpread(_objectSpread({},newMethodData),{},{account_number:e.target.value}))}),(isBankTransfer(selectedMethodType)||selectedMethodType===\"Pago móvil\")&&!(transaction.destination_country===\"CO\"&&selectedMethodType===\"Bancolombia\")&&/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-2 border rounded\",value:newMethodData.bank,onChange:e=>setNewMethodData(_objectSpread(_objectSpread({},newMethodData),{},{bank:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona banco\"}),(BANKS_BY_COUNTRY[transaction===null||transaction===void 0?void 0:transaction.destination_country]||[]).map(b=>/*#__PURE__*/_jsx(\"option\",{value:b,children:b},b))]}),(isBankTransfer(selectedMethodType)||transaction.destination_country===\"CO\"&&selectedMethodType===\"Bancolombia\")&&/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-2 border rounded\",value:newMethodData.account_type,onChange:e=>setNewMethodData(_objectSpread(_objectSpread({},newMethodData),{},{account_type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tipo de cuenta\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ahorro\",children:\"Ahorro\"}),/*#__PURE__*/_jsx(\"option\",{value:\"corriente\",children:\"Corriente\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-t bg-white flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 py-2 bg-gray-200 rounded-xl\",onClick:cancelAddMethod,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 py-2 bg-blue-900 text-white rounded-xl\",onClick:handleAddNewMethod,children:\"Guardar\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full py-3 bg-blue-700 text-white rounded-xl mt-4 font-semibold\",onClick:handleContinue,disabled:!selectedMethod,children:\"Continuar\"})]})});};export default PaymentDestinationScreen;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","useApp","supabase","Layout","motion","jsx","_jsx","jsxs","_jsxs","BANKS_BY_COUNTRY","VE","CO","PE","US","PA","EC","METHODS_BY_COUNTRY","countryCode","baseTransfer","toUpperCase","isBankTransfer","methodName","name","toLowerCase","includes","PaymentDestinationScreen","user","navigate","location","transactionId","state","transaction","setTransaction","methods","setMethods","selectedMethod","setSelectedMethod","Loading","setLoading","showMethodModal","setShowMethodModal","selectedMethodType","setSelectedMethodType","newMethodData","setNewMethodData","holder_name","account_number","bank","platform","account_type","document_type","document_number","fetchTransaction","data","from","select","eq","single","fetchMethods","id","destination_country","openAddMethodModal","cancelAddMethod","chooseMethodType","method","p","_objectSpread","handleAddNewMethod","alert","insertData","user_id","country_code","error","insert","prev","handleContinue","update","payment_method_destination_id","children","className","length","map","m","_m$data","_m$data2","_m$data3","_m$data4","_m$data5","_m$data6","div","onClick","concat","slice","type","placeholder","value","onChange","e","target","b","disabled"],"sources":["C:/Users/Usuario/Desktop/intento de app/src/pages/flows/PaymentDestinationScreen.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useApp } from \"../../context/AppContext\";\r\nimport { supabase } from \"../../supabaseClient\";\r\nimport Layout from \"../../components/Layout\";\r\nimport { motion } from \"framer-motion\";\r\n\r\n/* ====== Listas de bancos por país ====== */\r\nconst BANKS_BY_COUNTRY = {\r\n  VE: [\r\n    \"Banco de Venezuela\",\r\n    \"Banesco\",\r\n    \"Provincial\",\r\n    \"Mercantil\",\r\n    \"BOD\",\r\n    \"Banco Nacional de Crédito (BNC)\",\r\n    \"Bicentenario\",\r\n    \"Banco del Tesoro\"\r\n  ],\r\n  CO: [\r\n    \"Bancolombia\",\r\n    \"Davivienda\",\r\n    \"BBVA\",\r\n    \"Banco de Bogotá\",\r\n    \"Banco de Occidente\",\r\n    \"Banco Popular\"\r\n  ],\r\n  PE: [\"BCP\", \"Interbank\", \"BBVA\", \"Scotiabank\"],\r\n  US: [\"Wells Fargo\", \"Bank of America\", \"Chase\", \"Citibank\", \"PNC Bank\"],\r\n  PA: [\"Banco General\", \"Banistmo\", \"Global Bank\", \"BAC Credomatic\"],\r\n  EC: [\"Banco Pichincha\", \"Banco de Guayaquil\", \"Produbanco\", \"Banco Internacional\"]\r\n};\r\n\r\n/* ====== Métodos por país ====== */\r\nconst METHODS_BY_COUNTRY = (countryCode) => {\r\n  const baseTransfer = [\"Transferencia bancaria\"];\r\n  switch ((countryCode || \"\").toUpperCase()) {\r\n    case \"VE\":\r\n      return [\"Pago móvil\", ...baseTransfer];\r\n    case \"CO\":\r\n      return [\"Bancolombia\", \"Nequi\", \"Daviplata\", ...baseTransfer];\r\n    case \"PE\":\r\n      return [\"Yape\", \"Plin\", ...baseTransfer];\r\n    case \"US\":\r\n      return [\"Zelle\", \"Western Union\", ...baseTransfer];\r\n    case \"PA\":\r\n      return [\"Zelle\", \"Western Union\", ...baseTransfer];\r\n    case \"EC\":\r\n      return [\"Banco Pichincha\", ...baseTransfer];\r\n    default:\r\n      return [...baseTransfer];\r\n  }\r\n};\r\n\r\n/* ====== Helpers ====== */\r\nconst isBankTransfer = (methodName) => {\r\n  if (!methodName) return false;\r\n  const name = methodName.toLowerCase();\r\n  return (\r\n    name.includes(\"transferencia\") ||\r\n    name.includes(\"banco\") ||\r\n    name.includes(\"bancolombia\") ||\r\n    name.includes(\"bank\")\r\n  );\r\n};\r\n\r\nconst PaymentDestinationScreen = () => {\r\n  const { user } = useApp();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const { transactionId } = location.state || {};\r\n  const [transaction, setTransaction] = useState(null);\r\n  const [methods, setMethods] = useState([]);\r\n  const [selectedMethod, setSelectedMethod] = useState(null);\r\n  const [Loading, setLoading] = useState(true);\r\n\r\n  // Modal\r\n  const [showMethodModal, setShowMethodModal] = useState(false);\r\n  const [selectedMethodType, setSelectedMethodType] = useState(\"\");\r\n\r\n  // Datos del formulario\r\n  const [newMethodData, setNewMethodData] = useState({\r\n    holder_name: \"\",\r\n    account_number: \"\",\r\n    bank: \"\",\r\n    platform: \"\",\r\n    account_type: \"\",\r\n    document_type: \"\",\r\n    document_number: \"\"\r\n  });\r\n\r\n  /* ==== Cargar transacción ==== */\r\n  useEffect(() => {\r\n    const fetchTransaction = async () => {\r\n      if (!transactionId) return;\r\n\r\n      const { data } = await supabase\r\n        .from(\"transactions\")\r\n        .select(\"*\")\r\n        .eq(\"id\", transactionId)\r\n        .single();\r\n\r\n      if (data) setTransaction(data);\r\n    };\r\n\r\n    fetchTransaction();\r\n  }, [transactionId]);\r\n\r\n  /* ==== Cargar métodos según país destino ==== */\r\n  useEffect(() => {\r\n    const fetchMethods = async () => {\r\n      if (!transaction || !user) return;\r\n\r\n      const { data } = await supabase\r\n        .from(\"user_payment_methods\")\r\n        .select(\"*\")\r\n        .eq(\"user_id\", user.id)\r\n        .eq(\"country_code\", transaction.destination_country);\r\n\r\n      if (data) setMethods(data);\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchMethods();\r\n  }, [transaction, user]);\r\n\r\n  /* ==== Abrir modal ==== */\r\n  const openAddMethodModal = () => {\r\n    setSelectedMethodType(\"\");\r\n    setNewMethodData({\r\n      holder_name: \"\",\r\n      account_number: \"\",\r\n      bank: \"\",\r\n      platform: \"\",\r\n      account_type: \"\",\r\n      document_type: \"\",\r\n      document_number: \"\"\r\n    });\r\n    setShowMethodModal(true);\r\n  };\r\n\r\n  const cancelAddMethod = () => {\r\n    setShowMethodModal(false);\r\n    setSelectedMethodType(\"\");\r\n  };\r\n\r\n  const chooseMethodType = (method) => {\r\n    setSelectedMethodType(method);\r\n\r\n    if (!isBankTransfer(method)) {\r\n      setNewMethodData((p) => ({\r\n        ...p,\r\n        bank: method.includes(\"Banco\") || method === \"Bancolombia\" ? method : p.bank\r\n      }));\r\n    }\r\n  };\r\n\r\n/* ==== Guardar nuevo método ==== */\r\n  const handleAddNewMethod = async () => {\r\n    if (!transaction || !user || !selectedMethodType) return;\r\n\r\n    // Validar campos esenciales\r\n    if (!newMethodData.holder_name) {\r\n      alert(\"Ingresa el titular.\");\r\n      return;\r\n    }\r\n\r\n    if (isBankTransfer(selectedMethodType) && !newMethodData.account_number) {\r\n      alert(\"Ingresa número de cuenta.\");\r\n      return;\r\n    }\r\n\r\n    if (selectedMethodType === \"Pago móvil\" && !newMethodData.account_number) {\r\n      alert(\"Ingresa número telefónico para pago móvil.\");\r\n      return;\r\n    }\r\n\r\n    if (!newMethodData.document_type) {\r\n      alert(\"Selecciona tipo de documento.\");\r\n      return;\r\n    }\r\n\r\n    if (!newMethodData.document_number) {\r\n      alert(\"Ingresa número de documento.\");\r\n      return;\r\n    }\r\n\r\n    const insertData = {\r\n      user_id: user.id,\r\n      country_code: transaction.destination_country,\r\n      method: selectedMethodType,\r\n      account_type: isBankTransfer(selectedMethodType) ? newMethodData.account_type : null,\r\n      data: {\r\n        holder_name: newMethodData.holder_name,\r\n        account_number: newMethodData.account_number || null,\r\n        bank: newMethodData.bank || null,\r\n        platform: newMethodData.platform || null,\r\n        document_type: newMethodData.document_type,\r\n        document_number: newMethodData.document_number\r\n      }\r\n    };\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"user_payment_methods\")\r\n      .insert([insertData])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      alert(\"Error guardando el método.\");\r\n      return;\r\n    }\r\n\r\n    setMethods((prev) => [...prev, data]);\r\n    setShowMethodModal(false);\r\n    setSelectedMethodType(\"\");\r\n  };\r\n\r\n  /* ======= Continuar ======= */\r\n  const handleContinue = async () => {\r\n    if (!selectedMethod || !transaction) return;\r\n\r\n    await supabase\r\n      .from(\"transactions\")\r\n      .update({ payment_method_destination_id: selectedMethod.id })\r\n      .eq(\"id\", transaction.id);\r\n\r\n    navigate(\"/send/step4\", { state: { transactionId: transaction.id } });\r\n  };\r\n\r\n  if (Loading)\r\n    return (\r\n      <Layout>\r\n        <p className=\"text-center mt-10\">Cargando métodos...</p>\r\n      </Layout>\r\n    );\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-screen p-5 bg-gradient-to-b from-blue-50 to-yellow-50\">\r\n        <h1 className=\"text-xl font-bold text-blue-900 mb-6 text-center\">\r\n          Selecciona método de pago para {transaction?.destination_country}\r\n        </h1>\r\n\r\n        {/* Lista de métodos guardados */}\r\n        {methods.length > 0 ? (\r\n          <div className=\"mb-4\">\r\n            {methods.map((m) => (\r\n              <motion.div\r\n                key={m.id}\r\n                onClick={() => setSelectedMethod(m)}\r\n                className={`p-4 mb-2 border rounded-xl cursor-pointer ${\r\n                  selectedMethod?.id === m.id\r\n                    ? \"border-blue-900 bg-blue-100\"\r\n                    : \"border-gray-300 bg-white\"\r\n                }`}\r\n              >\r\n                <p><strong>{m.method}</strong></p>\r\n                <p>Titular: {m.data?.holder_name}</p>\r\n                <p>Número / Cuenta: {m.data?.account_number}</p>\r\n                <p>Banco / Plataforma: {m.data?.bank || m.data?.platform}</p>\r\n                <p>Documento: {m.data?.document_type} {m.data?.document_number}</p>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <p className=\"text-center text-gray-500 mb-4\">\r\n            No hay métodos registrados.\r\n          </p>\r\n        )}\r\n\r\n        <button\r\n          className=\"w-full py-2 mb-4 bg-green-600 text-white rounded-xl\"\r\n          onClick={openAddMethodModal}\r\n        >\r\n          Agregar método de pago\r\n        </button>\r\n{/* ===== MODAL OPTIMIZADO CON REGLAS DE BANCO Y MÓVIL ===== */}\r\n{showMethodModal && (\r\n  <div className=\"fixed inset-0 z-60 flex items-center justify-center bg-black/50 px-4 pt-6 pb-20\">\r\n    {/* Contenedor del modal */}\r\n    <div className=\"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col overflow-hidden\">\r\n      \r\n      {/* Header */}\r\n      <div className=\"px-6 py-4 border-b\">\r\n        <h2 className=\"text-lg font-semibold text-center\">Selecciona método de pago</h2>\r\n      </div>\r\n\r\n      {/* Contenido scrollable */}\r\n      <div className=\"flex-1 overflow-y-auto px-6 py-4 space-y-4 pb-32\">\r\n        {/* pb-32 deja espacio para los botones */}\r\n\r\n        {/* Métodos en 2 columnas */}\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          {METHODS_BY_COUNTRY(transaction?.destination_country).map((method) => (\r\n            <button\r\n              key={method}\r\n              onClick={() => chooseMethodType(method)}\r\n              className={`p-3 rounded-xl border text-center ${\r\n                selectedMethodType === method\r\n                  ? \"border-blue-900 bg-blue-50\"\r\n                  : \"border-gray-300 bg-white\"\r\n              }`}\r\n            >\r\n              <div className=\"w-12 h-12 mx-auto mb-2 flex items-center justify-center rounded-full bg-gray-100 text-gray-700 font-semibold\">\r\n                {method.slice(0, 2).toUpperCase()}\r\n              </div>\r\n              <div className=\"font-medium\">{method}</div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Formulario */}\r\n        {selectedMethodType && (\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"font-medium\">Datos — {selectedMethodType}</h3>\r\n\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Titular\"\r\n              className=\"w-full p-2 border rounded\"\r\n              value={newMethodData.holder_name}\r\n              onChange={(e) =>\r\n                setNewMethodData({ ...newMethodData, holder_name: e.target.value })\r\n              }\r\n            />\r\n\r\n            <select\r\n              className=\"w-full p-2 border rounded\"\r\n              value={newMethodData.document_type}\r\n              onChange={(e) =>\r\n                setNewMethodData({ ...newMethodData, document_type: e.target.value })\r\n              }\r\n            >\r\n              <option value=\"\">Tipo de documento</option>\r\n              <option value=\"CC\">Cédula</option>\r\n              <option value=\"CE\">Cédula extranjera</option>\r\n              <option value=\"PAS\">Pasaporte</option>\r\n            </select>\r\n\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Número de documento\"\r\n              className=\"w-full p-2 border rounded\"\r\n              value={newMethodData.document_number}\r\n              onChange={(e) =>\r\n                setNewMethodData({ ...newMethodData, document_number: e.target.value })\r\n              }\r\n            />\r\n\r\n            <input\r\n              type=\"text\"\r\n              placeholder={\r\n                selectedMethodType === \"Pago móvil\"\r\n                  ? \"Teléfono\"\r\n                  : isBankTransfer(selectedMethodType)\r\n                  ? \"Número de cuenta\"\r\n                  : \"Identificador / correo\"\r\n              }\r\n              className=\"w-full p-2 border rounded\"\r\n              value={newMethodData.account_number}\r\n              onChange={(e) =>\r\n                setNewMethodData({ ...newMethodData, account_number: e.target.value })\r\n              }\r\n            />\r\n\r\n            {/* Selecciona banco */}\r\n            {((isBankTransfer(selectedMethodType) || selectedMethodType === \"Pago móvil\") &&\r\n              !(transaction.destination_country === \"CO\" && selectedMethodType === \"Bancolombia\")) && (\r\n              <select\r\n                className=\"w-full p-2 border rounded\"\r\n                value={newMethodData.bank}\r\n                onChange={(e) =>\r\n                  setNewMethodData({ ...newMethodData, bank: e.target.value })\r\n                }\r\n              >\r\n                <option value=\"\">Selecciona banco</option>\r\n                {(BANKS_BY_COUNTRY[transaction?.destination_country] || []).map((b) => (\r\n                  <option key={b} value={b}>{b}</option>\r\n                ))}\r\n              </select>\r\n            )}\r\n\r\n            {/* Tipo de cuenta */}\r\n            {(isBankTransfer(selectedMethodType) || \r\n              (transaction.destination_country === \"CO\" && selectedMethodType === \"Bancolombia\")) && (\r\n              <select\r\n                className=\"w-full p-2 border rounded\"\r\n                value={newMethodData.account_type}\r\n                onChange={(e) =>\r\n                  setNewMethodData({ ...newMethodData, account_type: e.target.value })\r\n                }\r\n              >\r\n                <option value=\"\">Tipo de cuenta</option>\r\n                <option value=\"ahorro\">Ahorro</option>\r\n                <option value=\"corriente\">Corriente</option>\r\n              </select>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Botones fijos al final */}\r\n      <div className=\"px-6 py-4 border-t bg-white flex gap-3\">\r\n        <button\r\n          className=\"flex-1 py-2 bg-gray-200 rounded-xl\"\r\n          onClick={cancelAddMethod}\r\n        >\r\n          Cancelar\r\n        </button>\r\n        <button\r\n          className=\"flex-1 py-2 bg-blue-900 text-white rounded-xl\"\r\n          onClick={handleAddNewMethod}\r\n        >\r\n          Guardar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n\r\n\r\n\r\n<button\r\n          className=\"w-full py-3 bg-blue-700 text-white rounded-xl mt-4 font-semibold\"\r\n          onClick={handleContinue}\r\n          disabled={!selectedMethod}\r\n        >\r\n          Continuar\r\n        </button>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default PaymentDestinationScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}