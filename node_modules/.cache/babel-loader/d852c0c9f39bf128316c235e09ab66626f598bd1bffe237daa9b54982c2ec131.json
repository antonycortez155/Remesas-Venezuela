{"ast":null,"code":"import React,{createContext,useContext,useState}from'react';import{supabase}from'../supabaseClient';import{getCountryCodeFromPhone}from'../utils/phoneUtils';import bcrypt from'bcryptjs';import{jsx as _jsx}from\"react/jsx-runtime\";const AppContext=/*#__PURE__*/createContext();export const useApp=()=>{const context=useContext(AppContext);if(!context){throw new Error('useApp debe ser usado dentro de AppProvider');}return context;};export const AppProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[transactions,setTransactions]=useState([]);const[isAuthenticated,setIsAuthenticated]=useState(false);const[loading,setLoading]=useState(false);//  NUEVO (para reset password)\nconst[resetPhone,setResetPhone]=useState(null);// ======== Login personalizado ========\nconst login=async(identifier,password)=>{try{const{data:users,error}=await supabase.from('users').select('*').or(\"email.eq.\".concat(identifier,\",phone.eq.\").concat(identifier)).single();if(error||!users)throw new Error('Correo o tel茅fono incorrecto.');const isValid=bcrypt.compareSync(password,users.password);if(!isValid)throw new Error('Contrase帽a incorrecta.');setUser(users);setIsAuthenticated(true);await fetchTransactions(users.id);return users;}catch(err){console.error('Error al iniciar sesi贸n:',err);throw err;}};// ======== Registro de usuario ========\nconst register=async(userData,password)=>{setLoading(true);try{const hashedPassword=bcrypt.hashSync(password,10);const countryCode=getCountryCodeFromPhone(userData.phone);const{data:userProfile,error}=await supabase.from('users').insert({first_name:userData.first_name||'',last_name:userData.last_name||'',email:userData.email,phone:userData.phone,country_code:countryCode,password:hashedPassword,is_verified:false}).select().single();if(error)throw error;setUser(userProfile);setIsAuthenticated(true);return userProfile;}finally{setLoading(false);}};// ======== Cerrar sesi贸n ========\nconst logout=async()=>{setUser(null);setIsAuthenticated(false);setTransactions([]);};// ======== Transacciones ========\nconst fetchTransactions=async userId=>{const{data,error}=await supabase.from('transactions').select('*').eq('user_id',userId).order('created_at',{ascending:false});if(data)setTransactions(data);else if(error)console.error('Error obteniendo transacciones:',error);};const addTransaction=async transactionData=>{if(!user)return null;const{data,error}=await supabase.from('transactions').insert({user_id:user.id,amount:transactionData.amount,received_amount:transactionData.receivedAmount,exchange_rate:transactionData.rate,origin_country_code:transactionData.originCountry,destination_country_code:transactionData.destinationCountry,payment_method_origin:transactionData.paymentMethodOrigin,payment_method_destination:transactionData.paymentMethodDestination,recipient_first_name:transactionData.recipient.firstName,recipient_last_name:transactionData.recipient.lastName,recipient_phone:transactionData.recipient.phone,recipient_email:transactionData.recipient.email,recipient_bank_name:transactionData.recipient.bankName,recipient_account_number:transactionData.recipient.accountNumber,recipient_id_number:transactionData.recipient.idNumber,payment_details_destination:transactionData.paymentDetailsDestination,client_reference_number:transactionData.clientReferenceNumber,status:'Procesando'}).select();if(error)throw error;if(data&&data.length>0){setTransactions(prev=>[data[0],...prev]);return data[0].id;}return null;};const updateTransactionStatus=async function(id,status){let adminReferenceNumber=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const{data,error}=await supabase.from('transactions').update({status,admin_reference_number:adminReferenceNumber,updated_at:new Date().toISOString()}).eq('id',id).select();if(error)throw error;if(data&&data.length>0){setTransactions(prev=>prev.map(tx=>tx.id===id?data[0]:tx));return data[0];}return null;};const completeProfile=async(userId,firstName,lastName)=>{setLoading(true);try{const{data,error}=await supabase.from('users').update({first_name:firstName.trim(),last_name:lastName.trim(),updated_at:new Date().toISOString()}).eq('id',userId).select().single();if(error)throw error;setUser(data);return data;}finally{setLoading(false);}};// ====================================================\n//  NUEVO: Iniciar proceso de recuperaci贸n de contrase帽a\n// ====================================================\nconst startPasswordReset=async phone=>{const code=Math.floor(1000+Math.random()*9000).toString();const expiresAt=new Date(Date.now()+5*60*1000).toISOString();// 5 min\nconst{data:existing}=await supabase.from(\"pending_codes\").select(\"*\").eq(\"phone\",phone).maybeSingle();if(existing){await supabase.from(\"pending_codes\").delete().eq(\"phone\",phone);}const{error}=await supabase.from(\"pending_codes\").insert({phone,code,expires_at:expiresAt,password_hash:\"RESET\",country_code:getCountryCodeFromPhone(phone),country_name:\"N/A\",sent:true});if(error)throw error;setResetPhone(phone);return code;};// ====================================================\n//  NUEVO: Verificar c贸digo desde BD\n// ====================================================\nconst verifyResetCode=async(phone,code)=>{const{data,error}=await supabase.from(\"pending_codes\").select(\"*\").eq(\"phone\",phone).eq(\"code\",code).maybeSingle();if(error||!data)return false;if(new Date(data.expires_at)<new Date()){await supabase.from(\"pending_codes\").delete().eq(\"phone\",phone);return false;}setResetPhone(phone);return true;};// ====================================================\n//  NUEVO: Limpiar el proceso de reset\n// ====================================================\nconst clearReset=async phone=>{await supabase.from(\"pending_codes\").delete().eq(\"phone\",phone);setResetPhone(null);};const value={user,isAuthenticated,loading,transactions,login,register,logout,addTransaction,updateTransactionStatus,fetchTransactions,completeProfile,//  NUEVO para reset password:\nresetPhone,setResetPhone,//  AGREGADO AQU (NICO CAMBIO)\nstartPasswordReset,verifyResetCode,clearReset};return/*#__PURE__*/_jsx(AppContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","supabase","getCountryCodeFromPhone","bcrypt","jsx","_jsx","AppContext","useApp","context","Error","AppProvider","_ref","children","user","setUser","transactions","setTransactions","isAuthenticated","setIsAuthenticated","loading","setLoading","resetPhone","setResetPhone","login","identifier","password","data","users","error","from","select","or","concat","single","isValid","compareSync","fetchTransactions","id","err","console","register","userData","hashedPassword","hashSync","countryCode","phone","userProfile","insert","first_name","last_name","email","country_code","is_verified","logout","userId","eq","order","ascending","addTransaction","transactionData","user_id","amount","received_amount","receivedAmount","exchange_rate","rate","origin_country_code","originCountry","destination_country_code","destinationCountry","payment_method_origin","paymentMethodOrigin","payment_method_destination","paymentMethodDestination","recipient_first_name","recipient","firstName","recipient_last_name","lastName","recipient_phone","recipient_email","recipient_bank_name","bankName","recipient_account_number","accountNumber","recipient_id_number","idNumber","payment_details_destination","paymentDetailsDestination","client_reference_number","clientReferenceNumber","status","length","prev","updateTransactionStatus","adminReferenceNumber","arguments","undefined","update","admin_reference_number","updated_at","Date","toISOString","map","tx","completeProfile","trim","startPasswordReset","code","Math","floor","random","toString","expiresAt","now","existing","maybeSingle","delete","expires_at","password_hash","country_name","sent","verifyResetCode","clearReset","value","Provider"],"sources":["C:/Users/Usuario/Desktop/intento de app/src/context/AppContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { getCountryCodeFromPhone } from '../utils/phoneUtils';\nimport bcrypt from 'bcryptjs';\n\nconst AppContext = createContext();\n\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp debe ser usado dentro de AppProvider');\n  }\n  return context;\n};\n\nexport const AppProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [transactions, setTransactions] = useState([]);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  //  NUEVO (para reset password)\n  const [resetPhone, setResetPhone] = useState(null);\n\n  // ======== Login personalizado ========\n  const login = async (identifier, password) => {\n    try {\n      const { data: users, error } = await supabase\n        .from('users')\n        .select('*')\n        .or(`email.eq.${identifier},phone.eq.${identifier}`)\n        .single();\n\n      if (error || !users) throw new Error('Correo o tel茅fono incorrecto.');\n\n      const isValid = bcrypt.compareSync(password, users.password);\n      if (!isValid) throw new Error('Contrase帽a incorrecta.');\n\n      setUser(users);\n      setIsAuthenticated(true);\n      await fetchTransactions(users.id);\n\n      return users;\n    } catch (err) {\n      console.error('Error al iniciar sesi贸n:', err);\n      throw err;\n    }\n  };\n\n  // ======== Registro de usuario ========\n  const register = async (userData, password) => {\n    setLoading(true);\n    try {\n      const hashedPassword = bcrypt.hashSync(password, 10);\n      const countryCode = getCountryCodeFromPhone(userData.phone);\n\n      const { data: userProfile, error } = await supabase\n        .from('users')\n        .insert({\n          first_name: userData.first_name || '',\n          last_name: userData.last_name || '',\n          email: userData.email,\n          phone: userData.phone,\n          country_code: countryCode,\n          password: hashedPassword,\n          is_verified: false\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setUser(userProfile);\n      setIsAuthenticated(true);\n      return userProfile;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ======== Cerrar sesi贸n ========\n  const logout = async () => {\n    setUser(null);\n    setIsAuthenticated(false);\n    setTransactions([]);\n  };\n\n  // ======== Transacciones ========\n  const fetchTransactions = async (userId) => {\n    const { data, error } = await supabase\n      .from('transactions')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false });\n\n    if (data) setTransactions(data);\n    else if (error) console.error('Error obteniendo transacciones:', error);\n  };\n\n  const addTransaction = async (transactionData) => {\n    if (!user) return null;\n    const { data, error } = await supabase\n      .from('transactions')\n      .insert({\n        user_id: user.id,\n        amount: transactionData.amount,\n        received_amount: transactionData.receivedAmount,\n        exchange_rate: transactionData.rate,\n        origin_country_code: transactionData.originCountry,\n        destination_country_code: transactionData.destinationCountry,\n        payment_method_origin: transactionData.paymentMethodOrigin,\n        payment_method_destination: transactionData.paymentMethodDestination,\n        recipient_first_name: transactionData.recipient.firstName,\n        recipient_last_name: transactionData.recipient.lastName,\n        recipient_phone: transactionData.recipient.phone,\n        recipient_email: transactionData.recipient.email,\n        recipient_bank_name: transactionData.recipient.bankName,\n        recipient_account_number: transactionData.recipient.accountNumber,\n        recipient_id_number: transactionData.recipient.idNumber,\n        payment_details_destination: transactionData.paymentDetailsDestination,\n        client_reference_number: transactionData.clientReferenceNumber,\n        status: 'Procesando'\n      })\n      .select();\n\n    if (error) throw error;\n    if (data && data.length > 0) {\n      setTransactions(prev => [data[0], ...prev]);\n      return data[0].id;\n    }\n    return null;\n  };\n\n  const updateTransactionStatus = async (id, status, adminReferenceNumber = null) => {\n    const { data, error } = await supabase\n      .from('transactions')\n      .update({ status, admin_reference_number: adminReferenceNumber, updated_at: new Date().toISOString() })\n      .eq('id', id)\n      .select();\n\n    if (error) throw error;\n    if (data && data.length > 0) {\n      setTransactions(prev =>\n        prev.map(tx => tx.id === id ? data[0] : tx)\n      );\n      return data[0];\n    }\n    return null;\n  };\n\n  const completeProfile = async (userId, firstName, lastName) => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('users')\n        .update({\n          first_name: firstName.trim(),\n          last_name: lastName.trim(),\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', userId)\n        .select()\n        .single();\n\n      if (error) throw error;\n      setUser(data);\n      return data;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ====================================================\n  //  NUEVO: Iniciar proceso de recuperaci贸n de contrase帽a\n  // ====================================================\n  const startPasswordReset = async (phone) => {\n    const code = Math.floor(1000 + Math.random() * 9000).toString();\n    const expiresAt = new Date(Date.now() + 5 * 60 * 1000).toISOString(); // 5 min\n\n    const { data: existing } = await supabase\n      .from(\"pending_codes\")\n      .select(\"*\")\n      .eq(\"phone\", phone)\n      .maybeSingle();\n\n    if (existing) {\n      await supabase.from(\"pending_codes\").delete().eq(\"phone\", phone);\n    }\n\n    const { error } = await supabase\n      .from(\"pending_codes\")\n      .insert({\n        phone,\n        code,\n        expires_at: expiresAt,\n        password_hash: \"RESET\",\n        country_code: getCountryCodeFromPhone(phone),\n        country_name: \"N/A\",\n        sent: true\n      });\n\n    if (error) throw error;\n\n    setResetPhone(phone);\n    return code;\n  };\n\n  // ====================================================\n  //  NUEVO: Verificar c贸digo desde BD\n  // ====================================================\n  const verifyResetCode = async (phone, code) => {\n    const { data, error } = await supabase\n      .from(\"pending_codes\")\n      .select(\"*\")\n      .eq(\"phone\", phone)\n      .eq(\"code\", code)\n      .maybeSingle();\n\n    if (error || !data) return false;\n\n    if (new Date(data.expires_at) < new Date()) {\n      await supabase.from(\"pending_codes\").delete().eq(\"phone\", phone);\n      return false;\n    }\n\n    setResetPhone(phone);\n    return true;\n  };\n\n  // ====================================================\n  //  NUEVO: Limpiar el proceso de reset\n  // ====================================================\n  const clearReset = async (phone) => {\n    await supabase.from(\"pending_codes\").delete().eq(\"phone\", phone);\n    setResetPhone(null);\n  };\n\n  const value = {\n    user,\n    isAuthenticated,\n    loading,\n    transactions,\n    login,\n    register,\n    logout,\n    addTransaction,\n    updateTransactionStatus,\n    fetchTransactions,\n    completeProfile,\n\n    //  NUEVO para reset password:\n    resetPhone,\n    setResetPhone, //  AGREGADO AQU (NICO CAMBIO)\n    startPasswordReset,\n    verifyResetCode,\n    clearReset\n  };\n\n  return (\n    <AppContext.Provider value={value}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}